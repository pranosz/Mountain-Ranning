{"version":3,"file":"datepicker.js","sources":["../src/js/defaults.js","../src/js/constants.js","../src/js/utilities.js","../src/js/methods.js","../src/js/handlers.js","../src/js/render.js","../src/js/datepicker.js","../src/js/index.js"],"sourcesContent":["export default {\n  // Show the datepicker automatically when initialized\n  autoShow: false,\n\n  // Hide the datepicker automatically when picked\n  autoHide: false,\n\n  // Pick the initial date automatically when initialized\n  autoPick: false,\n\n  // Enable inline mode\n  inline: false,\n\n  // A element (or selector) for putting the datepicker\n  container: null,\n\n  // A element (or selector) for triggering the datepicker\n  trigger: null,\n\n  // The ISO language code (built-in: en-US)\n  language: '',\n\n  // The date string format\n  format: 'mm/dd/yyyy',\n\n  // The initial date\n  date: null,\n\n  // The start view date\n  startDate: null,\n\n  // The end view date\n  endDate: null,\n\n  // The start view when initialized\n  startView: 0, // 0 for days, 1 for months, 2 for years\n\n  // The start day of the week\n  // 0 for Sunday, 1 for Monday, 2 for Tuesday, 3 for Wednesday,\n  // 4 for Thursday, 5 for Friday, 6 for Saturday\n  weekStart: 0,\n\n  // Show year before month on the datepicker header\n  yearFirst: false,\n\n  // A string suffix to the year number.\n  yearSuffix: '',\n\n  // Days' name of the week.\n  days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n\n  // Shorter days' name\n  daysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n\n  // Shortest days' name\n  daysMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n\n  // Months' name\n  months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\n  // Shorter months' name\n  monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n\n  // A element tag for each item of years, months and days\n  itemTag: 'li',\n\n  // A class (CSS) for muted date item\n  mutedClass: 'muted',\n\n  // A class (CSS) for picked date item\n  pickedClass: 'picked',\n\n  // A class (CSS) for disabled date item\n  disabledClass: 'disabled',\n\n  // A class (CSS) for highlight date item\n  highlightedClass: 'highlighted',\n\n  // The template of the datepicker\n  template: (\n    '<div class=\"datepicker-container\">' +\n      '<div class=\"datepicker-panel\" data-view=\"years picker\">' +\n        '<ul>' +\n          '<li data-view=\"years prev\">&lsaquo;</li>' +\n          '<li data-view=\"years current\"></li>' +\n          '<li data-view=\"years next\">&rsaquo;</li>' +\n        '</ul>' +\n        '<ul data-view=\"years\"></ul>' +\n      '</div>' +\n      '<div class=\"datepicker-panel\" data-view=\"months picker\">' +\n        '<ul>' +\n          '<li data-view=\"year prev\">&lsaquo;</li>' +\n          '<li data-view=\"year current\"></li>' +\n          '<li data-view=\"year next\">&rsaquo;</li>' +\n        '</ul>' +\n        '<ul data-view=\"months\"></ul>' +\n      '</div>' +\n      '<div class=\"datepicker-panel\" data-view=\"days picker\">' +\n        '<ul>' +\n          '<li data-view=\"month prev\">&lsaquo;</li>' +\n          '<li data-view=\"month current\"></li>' +\n          '<li data-view=\"month next\">&rsaquo;</li>' +\n        '</ul>' +\n        '<ul data-view=\"week\"></ul>' +\n        '<ul data-view=\"days\"></ul>' +\n      '</div>' +\n    '</div>'\n  ),\n\n  // The offset top or bottom of the datepicker from the element\n  offset: 10,\n\n  // The `z-index` of the datepicker\n  zIndex: 1000,\n\n  // Filter each date item (return `false` to disable a date item)\n  filter: null,\n\n  // Event shortcuts\n  show: null,\n  hide: null,\n  pick: null,\n};\n","export const NAMESPACE = 'datepicker';\nexport const EVENT_CLICK = `click.${NAMESPACE}`;\nexport const EVENT_FOCUS = `focus.${NAMESPACE}`;\nexport const EVENT_HIDE = `hide.${NAMESPACE}`;\nexport const EVENT_KEYUP = `keyup.${NAMESPACE}`;\nexport const EVENT_PICK = `pick.${NAMESPACE}`;\nexport const EVENT_RESIZE = `resize.${NAMESPACE}`;\nexport const EVENT_SHOW = `show.${NAMESPACE}`;\nexport const CLASS_HIDE = `${NAMESPACE}-hide`;\nexport const LANGUAGES = {};\nexport const VIEWS = {\n  DAYS: 0,\n  MONTHS: 1,\n  YEARS: 2,\n};\n","import $ from 'jquery';\n\nconst { toString } = Object.prototype;\n\nexport function typeOf(obj) {\n  return toString.call(obj).slice(8, -1).toLowerCase();\n}\n\nexport function isString(value) {\n  return typeof value === 'string';\n}\n\nexport const isNaN = Number.isNaN || window.isNaN;\n\nexport function isNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\nexport function isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\nexport function isDate(value) {\n  return typeOf(value) === 'date';\n}\n\nexport function proxy(fn, context, ...args) {\n  return (...args2) => fn.apply(context, args.concat(args2));\n}\n\nexport function selectorOf(view) {\n  return `[data-view=\"${view}\"]`;\n}\n\nexport function isLeapYear(year) {\n  return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\nexport function getDaysInMonth(year, month) {\n  month = (month + 12) % 12;\n\n  return [31, (isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n}\n\nexport function getMinDay(year, month, day) {\n  return Math.min(day, getDaysInMonth(year, month));\n}\n\nconst formatParts = /(y|m|d)+/g;\n\nexport function parseFormat(format) {\n  const source = String(format).toLowerCase();\n  const parts = source.match(formatParts);\n\n  if (!parts || parts.length === 0) {\n    throw new Error('Invalid date format.');\n  }\n\n  format = {\n    source,\n    parts,\n  };\n\n  $.each(parts, (i, part) => {\n    switch (part) {\n      case 'dd':\n      case 'd':\n        format.hasDay = true;\n        break;\n\n      case 'mm':\n      case 'm':\n        format.hasMonth = true;\n        break;\n\n      case 'yyyy':\n      case 'yy':\n        format.hasYear = true;\n        break;\n\n      default:\n    }\n  });\n\n  return format;\n}\n","import $ from 'jquery';\nimport {\n  CLASS_HIDE,\n  EVENT_CLICK,\n  EVENT_HIDE,\n  EVENT_KEYUP,\n  EVENT_PICK,\n  EVENT_RESIZE,\n  EVENT_SHOW,\n  NAMESPACE,\n} from './constants';\nimport {\n  isDate,\n  isNumber,\n  isString,\n  isUndefined,\n  proxy,\n} from './utilities';\n\nconst { document } = window;\nconst $window = $(window);\nconst $document = $(document);\nconst REGEXP_DIGITS = /\\d+/g;\n\nexport default {\n  // Show the datepicker\n  show() {\n    if (!this.built) {\n      this.build();\n    }\n\n    if (this.shown) {\n      return;\n    }\n\n    if (this.trigger(EVENT_SHOW).isDefaultPrevented()) {\n      return;\n    }\n\n    this.shown = true;\n    this.$picker.removeClass(CLASS_HIDE).on(EVENT_CLICK, $.proxy(this.click, this));\n    this.showView(this.options.startView);\n\n    if (!this.inline) {\n      $window.on(EVENT_RESIZE, (this.onResize = proxy(this.place, this)));\n      $document.on(EVENT_CLICK, (this.onGlobalClick = proxy(this.globalClick, this)));\n      $document.on(EVENT_KEYUP, (this.onGlobalKeyup = proxy(this.globalKeyup, this)));\n      this.place();\n    }\n  },\n\n  // Hide the datepicker\n  hide() {\n    if (!this.shown) {\n      return;\n    }\n\n    if (this.trigger(EVENT_HIDE).isDefaultPrevented()) {\n      return;\n    }\n\n    this.shown = false;\n    this.$picker.addClass(CLASS_HIDE).off(EVENT_CLICK, this.click);\n\n    if (!this.inline) {\n      $window.off(EVENT_RESIZE, this.onResize);\n      $document.off(EVENT_CLICK, this.onGlobalClick);\n      $document.off(EVENT_KEYUP, this.onGlobalKeyup);\n    }\n  },\n\n  toggle() {\n    if (this.shown) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  },\n\n  // Update the datepicker with the current input value\n  update() {\n    const value = this.getValue();\n\n    if (value === this.oldValue) {\n      return;\n    }\n\n    this.setDate(value, true);\n    this.oldValue = value;\n  },\n\n  /**\n   * Pick the current date to the element\n   *\n   * @param {String} _view (private)\n   */\n  pick(_view) {\n    const $this = this.$element;\n    let { date } = this;\n\n    if (this.trigger(EVENT_PICK, {\n      view: _view || '',\n      date,\n    }).isDefaultPrevented()) {\n      return;\n    }\n\n    date = this.formatDate(this.date);\n    this.setValue(date);\n\n    if (this.isInput) {\n      $this.trigger('input');\n      $this.trigger('change');\n    }\n  },\n\n  // Reset the datepicker\n  reset() {\n    this.setDate(this.initialDate, true);\n    this.setValue(this.initialValue);\n\n    if (this.shown) {\n      this.showView(this.options.startView);\n    }\n  },\n\n  /**\n   * Get the month name with given argument or the current date\n   *\n   * @param {Number} month (optional)\n   * @param {Boolean} short (optional)\n   * @return {String} (month name)\n   */\n  getMonthName(month, short) {\n    const { options } = this;\n    const { monthsShort } = options;\n    let { months } = options;\n\n    if ($.isNumeric(month)) {\n      month = Number(month);\n    } else if (isUndefined(short)) {\n      short = month;\n    }\n\n    if (short === true) {\n      months = monthsShort;\n    }\n\n    return months[isNumber(month) ? month : this.date.getMonth()];\n  },\n\n  /**\n   * Get the day name with given argument or the current date\n   *\n   * @param {Number} day (optional)\n   * @param {Boolean} short (optional)\n   * @param {Boolean} min (optional)\n   * @return {String} (day name)\n   */\n  getDayName(day, short, min) {\n    const { options } = this;\n    let { days } = options;\n\n    if ($.isNumeric(day)) {\n      day = Number(day);\n    } else {\n      if (isUndefined(min)) {\n        min = short;\n      }\n\n      if (isUndefined(short)) {\n        short = day;\n      }\n    }\n\n    if (min) {\n      days = options.daysMin;\n    } else if (short) {\n      days = options.daysShort;\n    }\n\n    return days[isNumber(day) ? day : this.date.getDay()];\n  },\n\n  /**\n   * Get the current date\n   *\n   * @param {Boolean} formatted (optional)\n   * @return {Date|String} (date)\n   */\n  getDate(formatted) {\n    const { date } = this;\n\n    return formatted ? this.formatDate(date) : new Date(date);\n  },\n\n  /**\n   * Set the current date with a new date\n   *\n   * @param {Date} date\n   * @param {Boolean} _updated (private)\n   */\n  setDate(date, _updated) {\n    const { filter } = this.options;\n\n    if (isDate(date) || isString(date)) {\n      date = this.parseDate(date);\n\n      if ($.isFunction(filter) && filter.call(this.$element, date) === false) {\n        return;\n      }\n\n      this.date = date;\n      this.viewDate = new Date(date);\n\n      if (!_updated) {\n        this.pick();\n      }\n\n      if (this.built) {\n        this.render();\n      }\n    }\n  },\n\n  /**\n   * Set the start view date with a new date\n   *\n   * @param {Date} date\n   */\n  setStartDate(date) {\n    if (isDate(date) || isString(date)) {\n      this.startDate = this.parseDate(date);\n\n      if (this.built) {\n        this.render();\n      }\n    }\n  },\n\n  /**\n   * Set the end view date with a new date\n   *\n   * @param {Date} date\n   */\n  setEndDate(date) {\n    if (isDate(date) || isString(date)) {\n      this.endDate = this.parseDate(date);\n\n      if (this.built) {\n        this.render();\n      }\n    }\n  },\n\n  /**\n   * Parse a date string with the set date format\n   *\n   * @param {String} date\n   * @return {Date} (parsed date)\n   */\n  parseDate(date) {\n    const { format } = this;\n    let parts = [];\n\n    if (isDate(date)) {\n      return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n    } else if (isString(date)) {\n      parts = date.match(REGEXP_DIGITS) || [];\n    }\n\n    date = new Date();\n\n    const { length } = format.parts;\n    let year = date.getFullYear();\n    let day = date.getDate();\n    let month = date.getMonth();\n\n    if (parts.length === length) {\n      $.each(parts, (i, part) => {\n        const value = parseInt(part, 10) || 1;\n\n        switch (format.parts[i]) {\n          case 'dd':\n          case 'd':\n            day = value;\n            break;\n\n          case 'mm':\n          case 'm':\n            month = value - 1;\n            break;\n\n          case 'yy':\n            year = 2000 + value;\n            break;\n\n          case 'yyyy':\n            year = value;\n            break;\n\n          default:\n        }\n      });\n    }\n\n    return new Date(year, month, day);\n  },\n\n  /**\n   * Format a date object to a string with the set date format\n   *\n   * @param {Date} date\n   * @return {String} (formatted date)\n   */\n  formatDate(date) {\n    const { format } = this;\n    let formatted = '';\n\n    if (isDate(date)) {\n      const year = date.getFullYear();\n      const values = {\n        d: date.getDate(),\n        m: date.getMonth() + 1,\n        yy: year.toString().substring(2),\n        yyyy: year,\n      };\n\n      values.dd = (values.d < 10 ? '0' : '') + values.d;\n      values.mm = (values.m < 10 ? '0' : '') + values.m;\n      formatted = format.source;\n      $.each(format.parts, (i, part) => {\n        formatted = formatted.replace(part, values[part]);\n      });\n    }\n\n    return formatted;\n  },\n\n  // Destroy the datepicker and remove the instance from the target element\n  destroy() {\n    this.unbind();\n    this.unbuild();\n    this.$element.removeData(NAMESPACE);\n  },\n};\n","import $ from 'jquery';\nimport { VIEWS } from './constants';\nimport { getMinDay } from './utilities';\n\nexport default {\n  click(e) {\n    const $target = $(e.target);\n    const { options, viewDate, format } = this;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    if ($target.hasClass('disabled')) {\n      return;\n    }\n\n    const view = $target.data('view');\n    let viewYear = viewDate.getFullYear();\n    let viewMonth = viewDate.getMonth();\n    let viewDay = viewDate.getDate();\n\n    switch (view) {\n      case 'years prev':\n      case 'years next': {\n        viewYear = view === 'years prev' ? viewYear - 10 : viewYear + 10;\n        this.viewDate = new Date(viewYear, viewMonth, getMinDay(viewYear, viewMonth, viewDay));\n        this.renderYears();\n        break;\n      }\n\n      case 'year prev':\n      case 'year next':\n        viewYear = view === 'year prev' ? viewYear - 1 : viewYear + 1;\n        this.viewDate = new Date(viewYear, viewMonth, getMinDay(viewYear, viewMonth, viewDay));\n        this.renderMonths();\n        break;\n\n      case 'year current':\n        if (format.hasYear) {\n          this.showView(VIEWS.YEARS);\n        }\n\n        break;\n\n      case 'year picked':\n        if (format.hasMonth) {\n          this.showView(VIEWS.MONTHS);\n        } else {\n          $target.addClass(options.pickedClass)\n            .siblings()\n            .removeClass(options.pickedClass);\n          this.hideView();\n        }\n\n        this.pick('year');\n        break;\n\n      case 'year':\n        viewYear = parseInt($target.text(), 10);\n        this.date = new Date(viewYear, viewMonth, getMinDay(viewYear, viewMonth, viewDay));\n\n        if (format.hasMonth) {\n          this.viewDate = new Date(this.date);\n          this.showView(VIEWS.MONTHS);\n        } else {\n          $target.addClass(options.pickedClass)\n            .siblings()\n            .removeClass(options.pickedClass);\n          this.hideView();\n        }\n\n        this.pick('year');\n        break;\n\n      case 'month prev':\n      case 'month next':\n        viewMonth = view === 'month prev' ? viewMonth - 1 : viewMonth + 1;\n        this.viewDate = new Date(viewYear, viewMonth, getMinDay(viewYear, viewMonth, viewDay));\n        this.renderDays();\n        break;\n\n      case 'month current':\n        if (format.hasMonth) {\n          this.showView(VIEWS.MONTHS);\n        }\n\n        break;\n\n      case 'month picked':\n        if (format.hasDay) {\n          this.showView(VIEWS.DAYS);\n        } else {\n          $target.addClass(options.pickedClass)\n            .siblings()\n            .removeClass(options.pickedClass);\n          this.hideView();\n        }\n\n        this.pick('month');\n        break;\n\n      case 'month':\n        viewMonth = $.inArray($target.text(), options.monthsShort);\n        this.date = new Date(viewYear, viewMonth, getMinDay(viewYear, viewMonth, viewDay));\n\n        if (format.hasDay) {\n          this.viewDate = new Date(viewYear, viewMonth, getMinDay(viewYear, viewMonth, viewDay));\n          this.showView(VIEWS.DAYS);\n        } else {\n          $target.addClass(options.pickedClass)\n            .siblings()\n            .removeClass(options.pickedClass);\n          this.hideView();\n        }\n\n        this.pick('month');\n        break;\n\n      case 'day prev':\n      case 'day next':\n      case 'day':\n        if (view === 'day prev') {\n          viewMonth -= 1;\n        } else if (view === 'day next') {\n          viewMonth += 1;\n        }\n\n        viewDay = parseInt($target.text(), 10);\n        this.date = new Date(viewYear, viewMonth, viewDay);\n        this.viewDate = new Date(viewYear, viewMonth, viewDay);\n        this.renderDays();\n\n        if (view === 'day') {\n          this.hideView();\n        }\n\n        this.pick('day');\n        break;\n\n      case 'day picked':\n        this.hideView();\n        this.pick('day');\n        break;\n\n      default:\n    }\n  },\n\n  globalClick({ target }) {\n    const { element, $trigger } = this;\n    const trigger = $trigger[0];\n    let hidden = true;\n\n    while (target !== document) {\n      if (target === trigger || target === element) {\n        hidden = false;\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (hidden) {\n      this.hide();\n    }\n  },\n\n  keyup() {\n    this.update();\n  },\n\n  globalKeyup({ target, key, keyCode }) {\n    if (this.isInput && target !== this.element && this.shown && (key === 'Tab' || keyCode === 9)) {\n      this.hide();\n    }\n  },\n};\n","import $ from 'jquery';\nimport { getDaysInMonth } from './utilities';\n\nexport default {\n  render() {\n    this.renderYears();\n    this.renderMonths();\n    this.renderDays();\n  },\n\n  renderWeek() {\n    const items = [];\n    let { weekStart, daysMin } = this.options;\n\n    weekStart = parseInt(weekStart, 10) % 7;\n    daysMin = daysMin.slice(weekStart).concat(daysMin.slice(0, weekStart));\n    $.each(daysMin, (i, day) => {\n      items.push(this.createItem({\n        text: day,\n      }));\n    });\n\n    this.$week.html(items.join(''));\n  },\n\n  renderYears() {\n    const {\n      options,\n      startDate,\n      endDate,\n    } = this;\n    const { disabledClass, filter, yearSuffix } = options;\n    const viewYear = this.viewDate.getFullYear();\n    const now = new Date();\n    const thisYear = now.getFullYear();\n    const year = this.date.getFullYear();\n    const start = -5;\n    const end = 6;\n    const items = [];\n    let prevDisabled = false;\n    let nextDisabled = false;\n    let i;\n\n    for (i = start; i <= end; i += 1) {\n      const date = new Date(viewYear + i, 1, 1);\n      let disabled = false;\n\n      if (startDate) {\n        disabled = date.getFullYear() < startDate.getFullYear();\n\n        if (i === start) {\n          prevDisabled = disabled;\n        }\n      }\n\n      if (!disabled && endDate) {\n        disabled = date.getFullYear() > endDate.getFullYear();\n\n        if (i === end) {\n          nextDisabled = disabled;\n        }\n      }\n\n      if (!disabled && filter) {\n        disabled = filter.call(this.$element, date) === false;\n      }\n\n      const picked = (viewYear + i) === year;\n      const view = picked ? 'year picked' : 'year';\n\n      items.push(this.createItem({\n        picked,\n        disabled,\n        muted: i === start || i === end,\n        text: viewYear + i,\n        view: disabled ? 'year disabled' : view,\n        highlighted: date.getFullYear() === thisYear,\n      }));\n    }\n\n    this.$yearsPrev.toggleClass(disabledClass, prevDisabled);\n    this.$yearsNext.toggleClass(disabledClass, nextDisabled);\n    this.$yearsCurrent\n      .toggleClass(disabledClass, true)\n      .html(`${(viewYear + start) + yearSuffix} - ${viewYear + end}${yearSuffix}`);\n    this.$years.html(items.join(''));\n  },\n\n  renderMonths() {\n    const {\n      options,\n      startDate,\n      endDate,\n      viewDate,\n    } = this;\n    const disabledClass = options.disabledClass || '';\n    const months = options.monthsShort;\n    const filter = $.isFunction(options.filter) && options.filter;\n    const viewYear = viewDate.getFullYear();\n    const now = new Date();\n    const thisYear = now.getFullYear();\n    const thisMonth = now.getMonth();\n    const year = this.date.getFullYear();\n    const month = this.date.getMonth();\n    const items = [];\n    let prevDisabled = false;\n    let nextDisabled = false;\n    let i;\n\n    for (i = 0; i <= 11; i += 1) {\n      const date = new Date(viewYear, i, 1);\n      let disabled = false;\n\n      if (startDate) {\n        prevDisabled = date.getFullYear() === startDate.getFullYear();\n        disabled = prevDisabled && date.getMonth() < startDate.getMonth();\n      }\n\n      if (!disabled && endDate) {\n        nextDisabled = date.getFullYear() === endDate.getFullYear();\n        disabled = nextDisabled && date.getMonth() > endDate.getMonth();\n      }\n\n      if (!disabled && filter) {\n        disabled = filter.call(this.$element, date) === false;\n      }\n\n      const picked = viewYear === year && i === month;\n      const view = picked ? 'month picked' : 'month';\n\n      items.push(this.createItem({\n        disabled,\n        picked,\n        highlighted: viewYear === thisYear && date.getMonth() === thisMonth,\n        index: i,\n        text: months[i],\n        view: disabled ? 'month disabled' : view,\n      }));\n    }\n\n    this.$yearPrev.toggleClass(disabledClass, prevDisabled);\n    this.$yearNext.toggleClass(disabledClass, nextDisabled);\n    this.$yearCurrent\n      .toggleClass(disabledClass, prevDisabled && nextDisabled)\n      .html(viewYear + options.yearSuffix || '');\n    this.$months.html(items.join(''));\n  },\n\n  renderDays() {\n    const {\n      $element,\n      options,\n      startDate,\n      endDate,\n      viewDate,\n      date: currentDate,\n    } = this;\n    const {\n      disabledClass,\n      filter,\n      monthsShort,\n      weekStart,\n      yearSuffix,\n    } = options;\n    const viewYear = viewDate.getFullYear();\n    const viewMonth = viewDate.getMonth();\n    const now = new Date();\n    const thisYear = now.getFullYear();\n    const thisMonth = now.getMonth();\n    const thisDay = now.getDate();\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    const day = currentDate.getDate();\n    let length;\n    let i;\n    let n;\n\n    // Days of prev month\n    // -----------------------------------------------------------------------\n\n    const prevItems = [];\n    let prevViewYear = viewYear;\n    let prevViewMonth = viewMonth;\n    let prevDisabled = false;\n\n    if (viewMonth === 0) {\n      prevViewYear -= 1;\n      prevViewMonth = 11;\n    } else {\n      prevViewMonth -= 1;\n    }\n\n    // The length of the days of prev month\n    length = getDaysInMonth(prevViewYear, prevViewMonth);\n\n    // The first day of current month\n    const firstDay = new Date(viewYear, viewMonth, 1);\n\n    // The visible length of the days of prev month\n    // [0,1,2,3,4,5,6] - [0,1,2,3,4,5,6] => [-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6]\n    n = firstDay.getDay() - (parseInt(weekStart, 10) % 7);\n\n    // [-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6] => [1,2,3,4,5,6,7]\n    if (n <= 0) {\n      n += 7;\n    }\n\n    if (startDate) {\n      prevDisabled = firstDay.getTime() <= startDate.getTime();\n    }\n\n    for (i = length - (n - 1); i <= length; i += 1) {\n      const prevViewDate = new Date(prevViewYear, prevViewMonth, i);\n      let disabled = false;\n\n      if (startDate) {\n        disabled = prevViewDate.getTime() < startDate.getTime();\n      }\n\n      if (!disabled && filter) {\n        disabled = filter.call($element, prevViewDate) === false;\n      }\n\n      prevItems.push(this.createItem({\n        disabled,\n        highlighted: (\n          prevViewYear === thisYear &&\n          prevViewMonth === thisMonth &&\n          prevViewDate.getDate() === thisDay\n        ),\n        muted: true,\n        picked: prevViewYear === year && prevViewMonth === month && i === day,\n        text: i,\n        view: 'day prev',\n      }));\n    }\n\n    // Days of next month\n    // -----------------------------------------------------------------------\n\n    const nextItems = [];\n    let nextViewYear = viewYear;\n    let nextViewMonth = viewMonth;\n    let nextDisabled = false;\n\n    if (viewMonth === 11) {\n      nextViewYear += 1;\n      nextViewMonth = 0;\n    } else {\n      nextViewMonth += 1;\n    }\n\n    // The length of the days of current month\n    length = getDaysInMonth(viewYear, viewMonth);\n\n    // The visible length of next month (42 means 6 rows and 7 columns)\n    n = 42 - (prevItems.length + length);\n\n    // The last day of current month\n    const lastDate = new Date(viewYear, viewMonth, length);\n\n    if (endDate) {\n      nextDisabled = lastDate.getTime() >= endDate.getTime();\n    }\n\n    for (i = 1; i <= n; i += 1) {\n      const date = new Date(nextViewYear, nextViewMonth, i);\n      const picked = nextViewYear === year && nextViewMonth === month && i === day;\n      let disabled = false;\n\n      if (endDate) {\n        disabled = date.getTime() > endDate.getTime();\n      }\n\n      if (!disabled && filter) {\n        disabled = filter.call($element, date) === false;\n      }\n\n      nextItems.push(this.createItem({\n        disabled,\n        picked,\n        highlighted: (\n          nextViewYear === thisYear &&\n          nextViewMonth === thisMonth &&\n          date.getDate() === thisDay\n        ),\n        muted: true,\n        text: i,\n        view: 'day next',\n      }));\n    }\n\n    // Days of current month\n    // -----------------------------------------------------------------------\n\n    const items = [];\n\n    for (i = 1; i <= length; i += 1) {\n      const date = new Date(viewYear, viewMonth, i);\n      let disabled = false;\n\n      if (startDate) {\n        disabled = date.getTime() < startDate.getTime();\n      }\n\n      if (!disabled && endDate) {\n        disabled = date.getTime() > endDate.getTime();\n      }\n\n      if (!disabled && filter) {\n        disabled = filter.call($element, date) === false;\n      }\n\n      const picked = viewYear === year && viewMonth === month && i === day;\n      const view = picked ? 'day picked' : 'day';\n\n      items.push(this.createItem({\n        disabled,\n        picked,\n        highlighted: (\n          viewYear === thisYear &&\n          viewMonth === thisMonth &&\n          date.getDate() === thisDay\n        ),\n        text: i,\n        view: disabled ? 'day disabled' : view,\n      }));\n    }\n\n    // Render days picker\n    // -----------------------------------------------------------------------\n\n    this.$monthPrev.toggleClass(disabledClass, prevDisabled);\n    this.$monthNext.toggleClass(disabledClass, nextDisabled);\n    this.$monthCurrent\n      .toggleClass(disabledClass, prevDisabled && nextDisabled)\n      .html(options.yearFirst ?\n        `${viewYear + yearSuffix} ${monthsShort[viewMonth]}` :\n        `${monthsShort[viewMonth]} ${viewYear}${yearSuffix}`);\n    this.$days.html(prevItems.join('') + items.join('') + nextItems.join(''));\n  },\n};\n","import $ from 'jquery';\nimport DEFAULTS from './defaults';\nimport methods from './methods';\nimport handlers from './handlers';\nimport render from './render';\nimport {\n  CLASS_HIDE,\n  EVENT_CLICK,\n  EVENT_FOCUS,\n  EVENT_HIDE,\n  EVENT_KEYUP,\n  EVENT_PICK,\n  EVENT_SHOW,\n  LANGUAGES,\n  NAMESPACE,\n  VIEWS,\n} from './constants';\nimport {\n  isNaN,\n  parseFormat,\n  selectorOf,\n} from './utilities';\n\nconst { document } = window;\nconst $document = $(document);\n\n// Classes\nconst CLASS_TOP_LEFT = `${NAMESPACE}-top-left`;\nconst CLASS_TOP_RIGHT = `${NAMESPACE}-top-right`;\nconst CLASS_BOTTOM_LEFT = `${NAMESPACE}-bottom-left`;\nconst CLASS_BOTTOM_RIGHT = `${NAMESPACE}-bottom-right`;\nconst CLASS_PLACEMENTS = [\n  CLASS_TOP_LEFT,\n  CLASS_TOP_RIGHT,\n  CLASS_BOTTOM_LEFT,\n  CLASS_BOTTOM_RIGHT,\n].join(' ');\n\nclass Datepicker {\n  constructor(element, options = {}) {\n    this.$element = $(element);\n    this.element = element;\n    this.options = $.extend({}, DEFAULTS, LANGUAGES[options.language], options);\n    this.built = false;\n    this.shown = false;\n    this.isInput = false;\n    this.inline = false;\n    this.initialValue = '';\n    this.initialDate = null;\n    this.startDate = null;\n    this.endDate = null;\n    this.init();\n  }\n\n  init() {\n    const { $element: $this, options } = this;\n    let { startDate, endDate, date } = options;\n\n    this.$trigger = $(options.trigger);\n    this.isInput = $this.is('input') || $this.is('textarea');\n    this.inline = options.inline && (options.container || !this.isInput);\n    this.format = parseFormat(options.format);\n\n    const initialValue = this.getValue();\n\n    this.initialValue = initialValue;\n    this.oldValue = initialValue;\n    date = this.parseDate(date || initialValue);\n\n    if (startDate) {\n      startDate = this.parseDate(startDate);\n\n      if (date.getTime() < startDate.getTime()) {\n        date = new Date(startDate);\n      }\n\n      this.startDate = startDate;\n    }\n\n    if (endDate) {\n      endDate = this.parseDate(endDate);\n\n      if (startDate && endDate.getTime() < startDate.getTime()) {\n        endDate = new Date(startDate);\n      }\n\n      if (date.getTime() > endDate.getTime()) {\n        date = new Date(endDate);\n      }\n\n      this.endDate = endDate;\n    }\n\n    this.date = date;\n    this.viewDate = new Date(date);\n    this.initialDate = new Date(this.date);\n    this.bind();\n\n    if (options.autoShow || this.inline) {\n      this.show();\n    }\n\n    if (options.autoPick) {\n      this.pick();\n    }\n  }\n\n  build() {\n    if (this.built) {\n      return;\n    }\n\n    this.built = true;\n\n    const { $element: $this, options } = this;\n    const $picker = $(options.template);\n\n    this.$picker = $picker;\n    this.$week = $picker.find(selectorOf('week'));\n\n    // Years view\n    this.$yearsPicker = $picker.find(selectorOf('years picker'));\n    this.$yearsPrev = $picker.find(selectorOf('years prev'));\n    this.$yearsNext = $picker.find(selectorOf('years next'));\n    this.$yearsCurrent = $picker.find(selectorOf('years current'));\n    this.$years = $picker.find(selectorOf('years'));\n\n    // Months view\n    this.$monthsPicker = $picker.find(selectorOf('months picker'));\n    this.$yearPrev = $picker.find(selectorOf('year prev'));\n    this.$yearNext = $picker.find(selectorOf('year next'));\n    this.$yearCurrent = $picker.find(selectorOf('year current'));\n    this.$months = $picker.find(selectorOf('months'));\n\n    // Days view\n    this.$daysPicker = $picker.find(selectorOf('days picker'));\n    this.$monthPrev = $picker.find(selectorOf('month prev'));\n    this.$monthNext = $picker.find(selectorOf('month next'));\n    this.$monthCurrent = $picker.find(selectorOf('month current'));\n    this.$days = $picker.find(selectorOf('days'));\n\n    if (this.inline) {\n      $(options.container || $this).append($picker.addClass(`${NAMESPACE}-inline`));\n    } else {\n      $(document.body).append($picker.addClass(`${NAMESPACE}-dropdown`));\n      $picker.addClass(CLASS_HIDE);\n    }\n\n    this.renderWeek();\n  }\n\n  unbuild() {\n    if (!this.built) {\n      return;\n    }\n\n    this.built = false;\n    this.$picker.remove();\n  }\n\n  bind() {\n    const { options, $element: $this } = this;\n\n    if ($.isFunction(options.show)) {\n      $this.on(EVENT_SHOW, options.show);\n    }\n\n    if ($.isFunction(options.hide)) {\n      $this.on(EVENT_HIDE, options.hide);\n    }\n\n    if ($.isFunction(options.pick)) {\n      $this.on(EVENT_PICK, options.pick);\n    }\n\n    if (this.isInput) {\n      $this.on(EVENT_KEYUP, $.proxy(this.keyup, this));\n    }\n\n    if (!this.inline) {\n      if (options.trigger) {\n        this.$trigger.on(EVENT_CLICK, $.proxy(this.toggle, this));\n      } else if (this.isInput) {\n        $this.on(EVENT_FOCUS, $.proxy(this.show, this));\n      } else {\n        $this.on(EVENT_CLICK, $.proxy(this.show, this));\n      }\n    }\n  }\n\n  unbind() {\n    const { $element: $this, options } = this;\n\n    if ($.isFunction(options.show)) {\n      $this.off(EVENT_SHOW, options.show);\n    }\n\n    if ($.isFunction(options.hide)) {\n      $this.off(EVENT_HIDE, options.hide);\n    }\n\n    if ($.isFunction(options.pick)) {\n      $this.off(EVENT_PICK, options.pick);\n    }\n\n    if (this.isInput) {\n      $this.off(EVENT_KEYUP, this.keyup);\n    }\n\n    if (!this.inline) {\n      if (options.trigger) {\n        this.$trigger.off(EVENT_CLICK, this.toggle);\n      } else if (this.isInput) {\n        $this.off(EVENT_FOCUS, this.show);\n      } else {\n        $this.off(EVENT_CLICK, this.show);\n      }\n    }\n  }\n\n  showView(view) {\n    const {\n      $yearsPicker,\n      $monthsPicker,\n      $daysPicker,\n      format,\n    } = this;\n\n    if (format.hasYear || format.hasMonth || format.hasDay) {\n      switch (Number(view)) {\n        case VIEWS.YEARS:\n          $monthsPicker.addClass(CLASS_HIDE);\n          $daysPicker.addClass(CLASS_HIDE);\n\n          if (format.hasYear) {\n            this.renderYears();\n            $yearsPicker.removeClass(CLASS_HIDE);\n            this.place();\n          } else {\n            this.showView(VIEWS.DAYS);\n          }\n\n          break;\n\n        case VIEWS.MONTHS:\n          $yearsPicker.addClass(CLASS_HIDE);\n          $daysPicker.addClass(CLASS_HIDE);\n\n          if (format.hasMonth) {\n            this.renderMonths();\n            $monthsPicker.removeClass(CLASS_HIDE);\n            this.place();\n          } else {\n            this.showView(VIEWS.YEARS);\n          }\n\n          break;\n\n        // case VIEWS.DAYS:\n        default:\n          $yearsPicker.addClass(CLASS_HIDE);\n          $monthsPicker.addClass(CLASS_HIDE);\n\n          if (format.hasDay) {\n            this.renderDays();\n            $daysPicker.removeClass(CLASS_HIDE);\n            this.place();\n          } else {\n            this.showView(VIEWS.MONTHS);\n          }\n      }\n    }\n  }\n\n  hideView() {\n    if (!this.inline && this.options.autoHide) {\n      this.hide();\n    }\n  }\n\n  place() {\n    if (this.inline) {\n      return;\n    }\n\n    const { $element: $this, options, $picker } = this;\n    const containerWidth = $document.outerWidth();\n    const containerHeight = $document.outerHeight();\n    const elementWidth = $this.outerWidth();\n    const elementHeight = $this.outerHeight();\n    const width = $picker.width();\n    const height = $picker.height();\n    let { left, top } = $this.offset();\n    let offset = parseFloat(options.offset);\n    let placement = CLASS_TOP_LEFT;\n\n    if (isNaN(offset)) {\n      offset = 10;\n    }\n\n    if (top > height && top + elementHeight + height > containerHeight) {\n      top -= height + offset;\n      placement = CLASS_BOTTOM_LEFT;\n    } else {\n      top += elementHeight + offset;\n    }\n\n    if (left + width > containerWidth) {\n      left += elementWidth - width;\n      placement = placement.replace('left', 'right');\n    }\n\n    $picker.removeClass(CLASS_PLACEMENTS).addClass(placement).css({\n      top,\n      left,\n      zIndex: parseInt(options.zIndex, 10),\n    });\n  }\n\n  // A shortcut for triggering custom events\n  trigger(type, data) {\n    const e = $.Event(type, data);\n\n    this.$element.trigger(e);\n\n    return e;\n  }\n\n  createItem(data) {\n    const { options } = this;\n    const { itemTag } = options;\n    const item = {\n      text: '',\n      view: '',\n      muted: false,\n      picked: false,\n      disabled: false,\n      highlighted: false,\n    };\n    const classes = [];\n\n    $.extend(item, data);\n\n    if (item.muted) {\n      classes.push(options.mutedClass);\n    }\n\n    if (item.highlighted) {\n      classes.push(options.highlightedClass);\n    }\n\n    if (item.picked) {\n      classes.push(options.pickedClass);\n    }\n\n    if (item.disabled) {\n      classes.push(options.disabledClass);\n    }\n\n    return (`<${itemTag} class=\"${classes.join(' ')}\" data-view=\"${item.view}\">${item.text}</${itemTag}>`);\n  }\n\n  getValue() {\n    const $this = this.$element;\n\n    return this.isInput ? $this.val() : $this.text();\n  }\n\n  setValue(value = '') {\n    const $this = this.$element;\n\n    if (this.isInput) {\n      $this.val(value);\n    } else {\n      $this.text(value);\n    }\n  }\n\n  static setDefaults(options = {}) {\n    $.extend(DEFAULTS, LANGUAGES[options.language], options);\n  }\n}\n\n$.extend(Datepicker.prototype, render, handlers, methods);\n\nexport default Datepicker;\n","import $ from 'jquery';\nimport Datepicker from './datepicker';\nimport { LANGUAGES } from './constants';\n\nconst AnotherDatepicker = $.fn.datepicker;\n\n$.fn.datepicker = function jQueryDatepicker(option, ...args) {\n  let result;\n\n  this.each(function each() {\n    const $this = $(this);\n    let data = $this.data('datepicker');\n\n    if (!data) {\n      if (/destroy/.test(option)) {\n        return;\n      }\n\n      const options = $.extend({}, $this.data(), $.isPlainObject(option) && option);\n\n      data = new Datepicker(this, options);\n      $this.data('datepicker', data);\n    }\n\n    if (typeof option === 'string') {\n      const fn = data[option];\n\n      if ($.isFunction(fn)) {\n        result = fn.apply(data, args);\n      }\n    }\n  });\n\n  return typeof result !== 'undefined' ? result : this;\n};\n\n$.fn.datepicker.Constructor = Datepicker;\n$.fn.datepicker.languages = LANGUAGES;\n$.fn.datepicker.setDefaults = Datepicker.setDefaults;\n$.fn.datepicker.noConflict = function noConflict() {\n  $.fn.datepicker = AnotherDatepicker;\n  return this;\n};\n"],"names":["NAMESPACE","EVENT_CLICK","EVENT_FOCUS","EVENT_HIDE","EVENT_KEYUP","EVENT_PICK","EVENT_RESIZE","EVENT_SHOW","CLASS_HIDE","LANGUAGES","VIEWS","toString","Object","prototype","typeOf","obj","call","slice","toLowerCase","isString","value","isNaN","Number","window","isNumber","isUndefined","isDate","proxy","fn","context","args","args2","apply","concat","selectorOf","view","isLeapYear","year","getDaysInMonth","month","getMinDay","day","Math","min","formatParts","parseFormat","format","source","String","parts","match","length","Error","each","i","part","hasDay","hasMonth","hasYear","document","$window","$","$document","REGEXP_DIGITS","built","build","shown","trigger","isDefaultPrevented","$picker","removeClass","on","click","showView","options","startView","inline","onResize","place","onGlobalClick","globalClick","onGlobalKeyup","globalKeyup","addClass","off","hide","show","getValue","oldValue","setDate","_view","$this","$element","date","formatDate","setValue","isInput","initialDate","initialValue","short","monthsShort","months","isNumeric","getMonth","days","daysMin","daysShort","getDay","formatted","Date","_updated","filter","parseDate","isFunction","viewDate","pick","render","startDate","endDate","getFullYear","getDate","parseInt","values","substring","dd","d","mm","m","replace","unbind","unbuild","removeData","e","$target","target","stopPropagation","preventDefault","hasClass","data","viewYear","viewMonth","viewDay","renderYears","renderMonths","YEARS","MONTHS","pickedClass","siblings","hideView","text","renderDays","DAYS","inArray","element","$trigger","hidden","parentNode","update","key","keyCode","items","weekStart","push","createItem","$week","html","join","disabledClass","yearSuffix","now","thisYear","start","end","prevDisabled","nextDisabled","disabled","picked","$yearsPrev","toggleClass","$yearsNext","$yearsCurrent","$years","thisMonth","$yearPrev","$yearNext","$yearCurrent","$months","currentDate","thisDay","n","prevItems","prevViewYear","prevViewMonth","firstDay","getTime","prevViewDate","nextItems","nextViewYear","nextViewMonth","lastDate","$monthPrev","$monthNext","$monthCurrent","yearFirst","$days","CLASS_TOP_LEFT","CLASS_TOP_RIGHT","CLASS_BOTTOM_LEFT","CLASS_BOTTOM_RIGHT","CLASS_PLACEMENTS","Datepicker","extend","DEFAULTS","language","init","is","container","bind","autoShow","autoPick","template","find","$yearsPicker","$monthsPicker","$daysPicker","append","body","renderWeek","remove","keyup","toggle","autoHide","containerWidth","outerWidth","containerHeight","outerHeight","elementWidth","elementHeight","width","height","offset","left","top","parseFloat","placement","css","zIndex","type","Event","itemTag","item","classes","muted","mutedClass","highlighted","highlightedClass","val","handlers","methods","AnotherDatepicker","datepicker","jQueryDatepicker","option","result","test","isPlainObject","Constructor","languages","setDefaults","noConflict"],"mappings":"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"}